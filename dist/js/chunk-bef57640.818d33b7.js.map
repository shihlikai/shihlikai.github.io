{"version":3,"sources":["webpack:///./src/views/admin/product/index.vue?7553","webpack:///src/views/admin/product/index.vue","webpack:///./src/views/admin/product/index.vue?52be","webpack:///./src/views/admin/product/index.vue?7bfb","webpack:///./src/views/admin/product/index.vue?72fd","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/core-js/modules/es.object.freeze.js","webpack:///./node_modules/core-js/internals/internal-metadata.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","modifiers","attrs","loadingText","staticStyle","staticClass","_v","_s","pagination","total","count","total_pages","on","handleCurrentChange","handleCreateClick","products","handleRowStyle","scopedSlots","_u","key","fn","scope","row","imageUrl","slot","$event","handleEditClick","handleDeleteClick","ref","dialog","form","model","callback","$$v","$set","cancelForm","handleSubmitClick","minRows","maxRows","staticRenderFns","origin_price","price","enabled","Object","freeze","formTemplate","data","product_list","loading","deepCopy","created","fetchProducts","methods","backgroundColor","color","Promise","resolve","page","$confirm","confirmButtonText","cancelButtonText","type","instance","id","then","updateProductsList","current_page","JSON","parse","stringify","obj","component","fails","module","exports","isExtensible","preventExtensions","$","FREEZING","isObject","onFreeze","nativeFreeze","FAILS_ON_PRIMITIVES","target","stat","forced","sham","it","hiddenKeys","has","defineProperty","f","uid","METADATA","setMetadata","objectID","weakData","fastKey","create","getWeakData","meta","REQUIRED"],"mappings":"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","file":"js/chunk-bef57640.818d33b7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.loading),expression:\"loading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"element-loading-text\":_vm.loadingText,\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"el-pagination is-background\"},[_c('ul',{staticClass:\"el-pager\"},[_c('li',{staticClass:\"number active\"},[_vm._v(\"總筆數：\"+_vm._s(_vm.pagination.total))])])]),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-size\":_vm.pagination.count,\"page-count\":_vm.pagination.total_pages},on:{\"current-change\":_vm.handleCurrentChange}}),_c('div',{staticStyle:{\"position\":\"absolute\",\"right\":\"0px\",\"margin-right\":\"20px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCreateClick}},[_vm._v(\"新增產品\")])],1)],1),_c('div',{staticStyle:{\"height\":\"20px\"}}),_c('el-table',{attrs:{\"data\":_vm.products,\"row-style\":_vm.handleRowStyle}},[_c('el-table-column',{attrs:{\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_c('el-image',{staticStyle:{\"height\":\"100px\",\"width\":\"100px\"},attrs:{\"src\":scope.row.imageUrl[0]}})],1)}}])},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"圖片\")])]),_c('el-table-column',{attrs:{\"prop\":\"category\",\"label\":\"分類\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"產品名稱\"}}),_c('el-table-column',{attrs:{\"prop\":\"origin_price\",\"label\":\"原價\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"售價\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEditClick(scope)}}},[_vm._v(\"編輯\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDeleteClick(scope)}}},[_vm._v(\"刪除\")])],1)}}])},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"編輯\")])])],1),_c('el-drawer',{ref:\"drawer\",staticStyle:{\"height\":\"100%\"},attrs:{\"visible\":_vm.dialog,\"with-header\":false,\"wrapper-closable\":false,\"direction\":\"rtl\",\"size\":\"60%\"},on:{\"update:visible\":function($event){_vm.dialog=$event}}},[_c('div',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"padding\":\"10px\",\"text-align\":\"center\"}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"width\":\"50%\",\"padding-right\":\"20px\"}},[_c('el-form-item',{attrs:{\"label\":\"輸入圖片網址\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.imageUrl[0]),callback:function ($$v) {_vm.$set(_vm.form.imageUrl, 0, $$v)},expression:\"form.imageUrl[0]\"}})],1),_c('div',{staticStyle:{\"border\":\"#1abc9c solid 1px\"}},[_c('el-image',{staticStyle:{\"width\":\"100%\"},attrs:{\"lazy\":true,\"src\":_vm.form.imageUrl[0]}})],1),_c('div',{staticStyle:{\"margin-top\":\"40px\"}},[_c('el-button',{on:{\"click\":_vm.cancelForm}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmitClick}},[_vm._v(\"確 定\")])],1)],1),_c('div',{staticStyle:{\"width\":\"50%\"}},[_c('el-form-item',{attrs:{\"label\":\"標題\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('el-form-item',{staticStyle:{\"width\":\"50%\",\"padding-right\":\"20px\"},attrs:{\"label\":\"分類\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.category),callback:function ($$v) {_vm.$set(_vm.form, \"category\", $$v)},expression:\"form.category\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"50%\"},attrs:{\"label\":\"單位\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.unit),callback:function ($$v) {_vm.$set(_vm.form, \"unit\", $$v)},expression:\"form.unit\"}})],1)],1),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('el-form-item',{staticStyle:{\"width\":\"50%\",\"padding-right\":\"20px\"},attrs:{\"label\":\"原價\"}},[_c('el-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"min\":1,\"controls-position\":\"right\"},model:{value:(_vm.form.origin_price),callback:function ($$v) {_vm.$set(_vm.form, \"origin_price\", $$v)},expression:\"form.origin_price\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"50%\"},attrs:{\"label\":\"售價\"}},[_c('el-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"min\":1,\"controls-position\":\"right\"},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"產品描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4, maxRows: 4},\"autocomplete\":\"off\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"說明內容\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4, maxRows: 4},\"autocomplete\":\"off\",\"resize\":\"none\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('el-form-item',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\" 是否啟用 \"),_c('el-switch',{attrs:{\"active-value\":true,\"inactive-value\":false,\"inactive-color\":\"#F56C6C\"},model:{value:(_vm.form.enabled),callback:function ($$v) {_vm.$set(_vm.form, \"enabled\", $$v)},expression:\"form.enabled\"}})],1)],1)])])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-loading.fullscreen.lock=\"loading\"\n    :element-loading-text=\"loadingText\"\n    element-loading-spinner=\"el-icon-loading\"\n    element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n  >\n    <div style=\"display: flex;\">\n      <div class=\"el-pagination is-background\">\n        <ul class=\"el-pager\">\n          <li class=\"number active\">總筆數：{{ pagination.total }}</li>\n        </ul>\n      </div>\n      <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        :page-size=\"pagination.count\"\n        :page-count=\"pagination.total_pages\"\n        @current-change=\"handleCurrentChange\"\n      />\n      <div style=\"position: absolute; right: 0px; margin-right: 20px;\">\n        <el-button type=\"primary\" @click=\"handleCreateClick\">新增產品</el-button>\n      </div>\n    </div>\n    <div style=\"height: 20px;\" />\n    <el-table\n      :data=\"products\"\n      :row-style=\"handleRowStyle\"\n    >\n      <el-table-column width=\"120\">\n        <div slot=\"header\">圖片</div>\n        <div slot-scope=\"scope\">\n          <el-image :src=\"scope.row.imageUrl[0]\" style=\"height: 100px; width: 100px;\" />\n        </div>\n      </el-table-column>\n      <el-table-column prop=\"category\" label=\"分類\" width=\"120\" />\n      <el-table-column prop=\"title\" label=\"產品名稱\" />\n      <el-table-column prop=\"origin_price\" label=\"原價\" width=\"80\" />\n      <el-table-column prop=\"price\" label=\"售價\" width=\"80\" />\n      <el-table-column width=\"200\">\n        <div slot=\"header\">編輯</div>\n        <div slot-scope=\"scope\">\n          <el-button type=\"primary\" @click=\"handleEditClick(scope)\">編輯</el-button>\n          <el-button type=\"danger\" @click=\"handleDeleteClick(scope)\">刪除</el-button>\n        </div>\n      </el-table-column>\n    </el-table>\n    <el-drawer\n      ref=\"drawer\"\n      :visible.sync=\"dialog\"\n      :with-header=\"false\"\n      :wrapper-closable=\"false\"\n      direction=\"rtl\"\n      size=\"60%\"\n      style=\"height: 100%;\"\n    >\n      <div style=\"height: 100%; width: 100%; padding: 10px; text-align: center;\">\n        <el-form :model=\"form\">\n          <div style=\"display: flex;\">\n            <div style=\"width: 50%; padding-right: 20px;\">\n              <el-form-item label=\"輸入圖片網址\">\n                <el-input v-model=\"form.imageUrl[0]\" autocomplete=\"off\" />\n              </el-form-item>\n              <div style=\"border: #1abc9c solid 1px;\">\n                <el-image :lazy=\"true\" :src=\"form.imageUrl[0]\" style=\"width: 100%;\" />\n              </div>\n              <div style=\"margin-top: 40px;\">\n                <el-button @click=\"cancelForm\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"handleSubmitClick\">確 定</el-button>\n              </div>\n            </div>\n            <div style=\"width: 50%;\">\n              <el-form-item label=\"標題\">\n                <el-input v-model=\"form.title\" autocomplete=\"off\" />\n              </el-form-item>\n              <div style=\"display: flex;\">\n                <el-form-item label=\"分類\" style=\"width: 50%; padding-right: 20px;\">\n                  <el-input v-model=\"form.category\" autocomplete=\"off\" />\n                </el-form-item>\n                <el-form-item label=\"單位\" style=\"width: 50%;\">\n                  <el-input v-model=\"form.unit\" autocomplete=\"off\" />\n                </el-form-item>\n              </div>\n              <div style=\"display: flex;\">\n                <el-form-item label=\"原價\" style=\"width: 50%; padding-right: 20px;\">\n                  <el-input-number v-model=\"form.origin_price\" :min=\"1\" controls-position=\"right\" style=\"width:100%;\" />\n                </el-form-item>\n                <el-form-item label=\"售價\" style=\"width: 50%;\">\n                  <el-input-number v-model=\"form.price\" :min=\"1\" controls-position=\"right\" style=\"width:100%;\" />\n                </el-form-item>\n              </div>\n              <el-form-item label=\"產品描述\">\n                <el-input\n                  v-model=\"form.description\"\n                  type=\"textarea\"\n                  :autosize=\"{ minRows: 4, maxRows: 4}\"\n                  autocomplete=\"off\"\n                />\n              </el-form-item>\n              <el-form-item label=\"說明內容\">\n                <el-input\n                  v-model=\"form.content\"\n                  type=\"textarea\"\n                  :autosize=\"{ minRows: 4, maxRows: 4}\"\n                  autocomplete=\"off\"\n                  resize=\"none\"\n                />\n              </el-form-item>\n              <el-form-item style=\"text-align: left;\">\n                是否啟用\n                <el-switch\n                  v-model=\"form.enabled\"\n                  :active-value=\"true\"\n                  :inactive-value=\"false\"\n                  inactive-color=\"#F56C6C\"\n                />\n              </el-form-item>\n            </div>\n          </div>\n        </el-form>\n      </div>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\nimport { getAdminProducts, patchAdminProduct, postAdminProduct, deleteAdminProduct } from '@/assets/api/hexschool'\nconst product_list = '商品列表讀取中'\nconst product_update = '商品資料更新中'\nconst product_delete = '商品資料刪除中'\nconst formTemplate = {\n  origin_price: 1,\n  price: 1,\n  enabled: true,\n  imageUrl: []\n}\nObject.freeze(formTemplate)\n\nexport default {\n  data: function () {\n    return {\n      loadingText: product_list,\n      loading: true,\n      dialog: false,\n      products: [],\n      pagination: {},\n      form: this.deepCopy(formTemplate)\n    }\n  },\n  created () {\n    this.fetchProducts()\n  },\n  methods: {\n    handleRowStyle ({ row, rowIndex }) {\n      const { enabled } = row\n      if (!enabled) {\n        return {\n          backgroundColor: '#E6A23C',\n          color: '#303133'\n        }\n      }\n    },\n    fetchProducts (page) {\n      return new Promise(resolve => {\n        this.loadingText = product_list\n        this.loading = true\n        getAdminProducts(page).then(response => {\n          const { data, meta } = response\n          this.products = data\n          this.pagination = meta.pagination\n        }).finally(() => {\n          this.loading = false\n          resolve()\n        })\n      })\n    },\n    handleCurrentChange (page) {\n      this.fetchProducts(page)\n    },\n    handleEditClick ({ row }) {\n      this.form = this.deepCopy(row)\n      this.dialog = true\n    },\n    handleDeleteClick ({ row }) {\n      return this.$confirm(`${row.title} 商品資料?`, '確認刪除', {\n        confirmButtonText: '確定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        return new Promise(resolve => {\n          this.loadingText = product_delete\n          this.loading = true\n          deleteAdminProduct(row.id)\n            .then(() => {\n              return this.updateProductsList()\n            }).finally(() => {\n              this.loading = false\n              resolve()\n            })\n        })\n      })\n    },\n    handleSubmitClick () {\n      return new Promise(resolve => {\n        this.loadingText = product_update\n        this.loading = true\n        const id = this.form.id\n        let instance\n        if (id) {\n          instance = patchAdminProduct(id, this.form)\n        } else {\n          instance = postAdminProduct(this.form)\n        }\n        instance.then(response => {\n          return this.updateProductsList()\n        }).then(() => {\n          this.$refs.drawer.closeDrawer()\n        }).finally(() => {\n          this.loading = false\n          resolve()\n        })\n      })\n    },\n    handleCreateClick () {\n      this.form = this.deepCopy(formTemplate)\n      this.dialog = true\n    },\n    cancelForm () {\n      this.loading = false\n      this.dialog = false\n    },\n    updateProductsList () {\n      return this.fetchProducts(this.pagination.current_page)\n    },\n    deepCopy (obj) {\n      return JSON.parse(JSON.stringify(obj))\n    }\n  }\n}\n</script>\n\n<style>\n.el-image__error {\n  height: 415px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9240bc0c&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\nvar nativeFreeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeFreeze(1); });\n\n// `Object.freeze` method\n// https://tc39.github.io/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n  }\n});\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n"],"sourceRoot":""}