(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27c3ed3b"],{"057f":function(t,e,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?c(t):i(r(t))}},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),a=n("9112");for(var c in i){var l=r[c],f=l&&l.prototype;if(f&&f.forEach!==o)try{a(f,"forEach",o)}catch(s){f.forEach=o}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=n("ae40"),a=i("forEach"),c=o("forEach");t.exports=a&&c?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"746f":function(t,e,n){var r=n("428f"),i=n("5135"),o=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},9953:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":t.loadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[n("div",{staticStyle:{position:"relative",display:"flex"}},[n("div",{staticClass:"el-pagination is-background"},[n("ul",{staticClass:"el-pager"},[n("li",{staticClass:"number active"},[t._v("總筆數："+t._s(t.pagination.total))])])]),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pagination.count,"page-count":t.pagination.total_pages},on:{"current-change":t.handleCurrentChange}}),n("div",{staticStyle:{position:"absolute",right:"0px","margin-right":"20px"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.handleCreateClick}},[t._v("新增產品")])],1)],1),n("div",{staticStyle:{height:"20px"}}),n("el-table",{attrs:{data:t.products,stripe:""}},[n("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return n("div",{},[n("el-image",{staticStyle:{height:"100px",width:"100px"},attrs:{src:t.row.imageUrl[0]}})],1)}}])},[n("div",{attrs:{slot:"header"},slot:"header"},[t._v("圖片")])]),n("el-table-column",{attrs:{prop:"category",label:"分類",width:"120"}}),n("el-table-column",{attrs:{label:"產品名稱"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return n("div",{class:r.enabled?"":"enabled"},[t._v(" "+t._s(r.title)+" ")])}}])}),n("el-table-column",{attrs:{prop:"origin_price",label:"原價",width:"80"}}),n("el-table-column",{attrs:{prop:"price",label:"售價",width:"80"}}),n("el-table-column",{attrs:{width:"200",label:"編輯"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[n("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.handleEditClick(e)}}},[t._v("編輯")]),n("el-button",{attrs:{type:"danger"},on:{click:function(n){return t.handleDeleteClick(e)}}},[t._v("刪除")])],1)}}])})],1),n("el-drawer",{ref:"drawer",staticStyle:{height:"100%"},attrs:{visible:t.dialog,"with-header":!1,"wrapper-closable":!1,direction:"rtl",size:"60%"},on:{"update:visible":function(e){t.dialog=e}}},[n("div",{staticStyle:{height:"100%",width:"100%",padding:"10px","text-align":"center"}},[n("el-form",{attrs:{model:t.form}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{width:"50%","padding-right":"20px"}},[n("el-form-item",{attrs:{label:"輸入圖片網址"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.imageUrl[0],callback:function(e){t.$set(t.form.imageUrl,0,e)},expression:"form.imageUrl[0]"}})],1),n("div",{staticStyle:{border:"#1abc9c solid 1px"}},[n("el-image",{staticStyle:{width:"100%"},attrs:{lazy:!0,src:t.form.imageUrl[0]}})],1),n("div",{staticStyle:{"margin-top":"40px"}},[n("el-button",{on:{click:t.cancelForm}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmitClick}},[t._v("確 定")])],1)],1),n("div",{staticStyle:{width:"50%"}},[n("el-form-item",{attrs:{label:"標題"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),n("div",{staticStyle:{display:"flex"}},[n("el-form-item",{staticStyle:{width:"50%","padding-right":"20px"},attrs:{label:"分類"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}})],1),n("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"單位"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}})],1)],1),n("div",{staticStyle:{display:"flex"}},[n("el-form-item",{staticStyle:{width:"50%","padding-right":"20px"},attrs:{label:"原價"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,"controls-position":"right"},model:{value:t.form.origin_price,callback:function(e){t.$set(t.form,"origin_price",e)},expression:"form.origin_price"}})],1),n("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"售價"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,"controls-position":"right"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1)],1),n("el-form-item",{attrs:{label:"產品描述"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:4},autocomplete:"off"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),n("el-form-item",{attrs:{label:"說明內容"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:4},autocomplete:"off",resize:"none"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),n("el-form-item",{staticStyle:{"text-align":"left"}},[t._v(" 是否啟用 "),n("el-switch",{attrs:{"active-value":!0,"inactive-value":!1,"inactive-color":"#F56C6C"},model:{value:t.form.enabled,callback:function(e){t.$set(t.form,"enabled",e)},expression:"form.enabled"}})],1)],1)])])],1)])],1)},i=[],o=(n("dca8"),n("d3b7"),n("8ad9")),a="商品列表讀取中",c="商品資料更新中",l="商品資料刪除中",f="商品資料讀取中",s={origin_price:1,price:1,enabled:!0,imageUrl:[]};Object.freeze(s);var u={data:function(){return{loadingText:a,loading:!0,dialog:!1,products:[],pagination:{},form:this.deepCopy(s)}},created:function(){this.fetchProducts()},methods:{fetchProducts:function(t){var e=this;return new Promise((function(n){e.loadingText=a,e.loading=!0,o["c"].getAll(t).then((function(t){var n=t.data,r=t.meta;e.products=n,e.pagination=r.pagination})).finally((function(){e.loading=!1,n()}))}))},handleCurrentChange:function(t){this.fetchProducts(t)},handleEditClick:function(t){var e=this,n=t.row;this.loading=!0,this.loadingText=f,o["c"].get(n.id).then((function(t){e.form=t.data,e.dialog=!0})).catch((function(t){console.error(t)})).finally((function(){e.loading=!1}))},handleDeleteClick:function(t){var e=this,n=t.row;return this.$confirm("".concat(n.title," 商品資料?"),"確認刪除",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((function(){return new Promise((function(t){e.loadingText=l,e.loading=!0,o["c"].delete(n.id).then((function(){return e.updateProductsList()})).finally((function(){e.loading=!1,t()}))}))}))},handleSubmitClick:function(){var t=this;return new Promise((function(e){t.loadingText=c,t.loading=!0;var n,r=t.form.id;n=r?o["c"].patch(r,t.form):o["c"].post(t.form),n.then((function(e){return t.updateProductsList()})).then((function(){t.$refs.drawer.closeDrawer()})).finally((function(){t.loading=!1,e()}))}))},handleCreateClick:function(){this.form=this.deepCopy(s),this.dialog=!0},cancelForm:function(){this.loading=!1,this.dialog=!1},updateProductsList:function(){return this.fetchProducts(this.pagination.current_page)},deepCopy:function(t){return JSON.parse(JSON.stringify(t))}}},d=u,p=(n("b9e6"),n("2877")),b=Object(p["a"])(d,r,i,!1,null,null,null);e["default"]=b.exports},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),a=n("c430"),c=n("83ab"),l=n("4930"),f=n("fdbf"),s=n("d039"),u=n("5135"),d=n("e8b5"),p=n("861d"),b=n("825a"),m=n("7b0b"),g=n("fc6a"),h=n("c04e"),v=n("5c6c"),y=n("7c73"),w=n("df75"),x=n("241c"),O=n("057f"),S=n("7418"),k=n("06cf"),j=n("9bf2"),P=n("d1e7"),E=n("9112"),C=n("6eeb"),_=n("5692"),D=n("f772"),$=n("d012"),z=n("90e3"),T=n("b622"),F=n("e538"),N=n("746f"),R=n("d44e"),U=n("69f3"),J=n("b727").forEach,I=D("hidden"),L="Symbol",Q="prototype",A=T("toPrimitive"),B=U.set,W=U.getterFor(L),K=Object[Q],q=i.Symbol,G=o("JSON","stringify"),H=k.f,M=j.f,V=O.f,X=P.f,Y=_("symbols"),Z=_("op-symbols"),tt=_("string-to-symbol-registry"),et=_("symbol-to-string-registry"),nt=_("wks"),rt=i.QObject,it=!rt||!rt[Q]||!rt[Q].findChild,ot=c&&s((function(){return 7!=y(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=H(K,e);r&&delete K[e],M(t,e,n),r&&t!==K&&M(K,e,r)}:M,at=function(t,e){var n=Y[t]=y(q[Q]);return B(n,{type:L,tag:t,description:e}),c||(n.description=e),n},ct=f?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},lt=function(t,e,n){t===K&&lt(Z,e,n),b(t);var r=h(e,!0);return b(n),u(Y,r)?(n.enumerable?(u(t,I)&&t[I][r]&&(t[I][r]=!1),n=y(n,{enumerable:v(0,!1)})):(u(t,I)||M(t,I,v(1,{})),t[I][r]=!0),ot(t,r,n)):M(t,r,n)},ft=function(t,e){b(t);var n=g(e),r=w(n).concat(bt(n));return J(r,(function(e){c&&!ut.call(n,e)||lt(t,e,n[e])})),t},st=function(t,e){return void 0===e?y(t):ft(y(t),e)},ut=function(t){var e=h(t,!0),n=X.call(this,e);return!(this===K&&u(Y,e)&&!u(Z,e))&&(!(n||!u(this,e)||!u(Y,e)||u(this,I)&&this[I][e])||n)},dt=function(t,e){var n=g(t),r=h(e,!0);if(n!==K||!u(Y,r)||u(Z,r)){var i=H(n,r);return!i||!u(Y,r)||u(n,I)&&n[I][r]||(i.enumerable=!0),i}},pt=function(t){var e=V(g(t)),n=[];return J(e,(function(t){u(Y,t)||u($,t)||n.push(t)})),n},bt=function(t){var e=t===K,n=V(e?Z:g(t)),r=[];return J(n,(function(t){!u(Y,t)||e&&!u(K,t)||r.push(Y[t])})),r};if(l||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=z(t),n=function(t){this===K&&n.call(Z,t),u(this,I)&&u(this[I],e)&&(this[I][e]=!1),ot(this,e,v(1,t))};return c&&it&&ot(K,e,{configurable:!0,set:n}),at(e,t)},C(q[Q],"toString",(function(){return W(this).tag})),C(q,"withoutSetter",(function(t){return at(z(t),t)})),P.f=ut,j.f=lt,k.f=dt,x.f=O.f=pt,S.f=bt,F.f=function(t){return at(T(t),t)},c&&(M(q[Q],"description",{configurable:!0,get:function(){return W(this).description}}),a||C(K,"propertyIsEnumerable",ut,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:q}),J(w(nt),(function(t){N(t)})),r({target:L,stat:!0,forced:!l},{for:function(t){var e=String(t);if(u(tt,e))return tt[e];var n=q(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!ct(t))throw TypeError(t+" is not a symbol");if(u(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:st,defineProperty:lt,defineProperties:ft,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:pt,getOwnPropertySymbols:bt}),r({target:"Object",stat:!0,forced:s((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(m(t))}}),G){var mt=!l||s((function(){var t=q();return"[null]"!=G([t])||"{}"!=G({a:t})||"{}"!=G(Object(t))}));r({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,n){var r,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=e,(p(e)||void 0!==t)&&!ct(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ct(e))return e}),i[1]=e,G.apply(null,i)}})}q[Q][A]||E(q[Q],A,q[Q].valueOf),R(q,L),$[I]=!0},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},ade3:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},b086:function(t,e,n){},b9e6:function(t,e,n){"use strict";var r=n("b086"),i=n.n(r);i.a},bb2f:function(t,e,n){var r=n("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},dbb4:function(t,e,n){var r=n("23e7"),i=n("83ab"),o=n("56ef"),a=n("fc6a"),c=n("06cf"),l=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),i=c.f,f=o(r),s={},u=0;while(f.length>u)n=i(r,e=f[u++]),void 0!==n&&l(s,e,n);return s}})},dca8:function(t,e,n){var r=n("23e7"),i=n("bb2f"),o=n("d039"),a=n("861d"),c=n("f183").onFreeze,l=Object.freeze,f=o((function(){l(1)}));r({target:"Object",stat:!0,forced:f,sham:!i},{freeze:function(t){return l&&a(t)?l(c(t)):t}})},e439:function(t,e,n){var r=n("23e7"),i=n("d039"),o=n("fc6a"),a=n("06cf").f,c=n("83ab"),l=i((function(){a(1)})),f=!c||l;r({target:"Object",stat:!0,forced:f,sham:!c},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r},f183:function(t,e,n){var r=n("d012"),i=n("861d"),o=n("5135"),a=n("9bf2").f,c=n("90e3"),l=n("bb2f"),f=c("meta"),s=0,u=Object.isExtensible||function(){return!0},d=function(t){a(t,f,{value:{objectID:"O"+ ++s,weakData:{}}})},p=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,f)){if(!u(t))return"F";if(!e)return"E";d(t)}return t[f].objectID},b=function(t,e){if(!o(t,f)){if(!u(t))return!0;if(!e)return!1;d(t)}return t[f].weakData},m=function(t){return l&&g.REQUIRED&&u(t)&&!o(t,f)&&d(t),t},g=t.exports={REQUIRED:!1,fastKey:p,getWeakData:b,onFreeze:m};r[f]=!0}}]);
//# sourceMappingURL=chunk-27c3ed3b.b918c3bf.js.map